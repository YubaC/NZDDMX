<!DOCTYPE html>
<html lang="zh_cn">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WordGame</title>
</head>

<body>
    <button onclick="up()">↑</button><br>
    <button onclick="left()">←</button>
    <button onclick="down()">↓</button>
    <button onclick="right()">→</button><br>
    <p id="map"></p>
    <!--  
----------------→y
|
|
|
|
|
|
↓x -->
    <script>
        x = 0;
        y = 0;
        x_old = 0;
        y_old = 0;
        block = "草";
        block_old = "草";

        map = new Array();
        map[0] = ["草", "草", "水", "水", "水", "草", "草", "草", "草", "草", "草", "草"];
        map[1] = ["草", "草", "水", "水", "水", "草", "草", "草", "草", "草", "草", "草"];
        map[2] = ["草", "草", "水", "水", "水", "草", "草", "草", "草", "草", "草", "草"];
        map[3] = ["草", "草", "水", "水", "水", "草", "草", "草", "草", "草", "草", "草"];
        map[4] = ["草", "草", "水", "水", "水", "草", "草", "草", "草", "草", "草", "草"];
        map[5] = ["草", "草", "水", "水", "水", "水", "水", "水", "桥", "桥", "水", "水"];
        map[6] = ["草", "草", "水", "水", "水", "水", "水", "水", "桥", "桥", "水", "水"];
        map[7] = ["草", "草", "水", "水", "水", "水", "水", "水", "桥", "桥", "水", "水"];
        map[8] = ["草", "草", "草", "草", "草", "草", "草", "草", "草", "草", "草", "草"];
        map[9] = ["草", "草", "草", "草", "草", "草", "草", "草", "草", "草", "草", "草"];
        map[10] = ["草", "草", "草", "草", "草", "草", "草", "草", "草", "草", "草", "草"];
        map[11] = ["草", "草", "草", "草", "草", "草", "草", "草", "草", "草", "草", "草"];

        word = ["水", "桥", "草", "人"]
        color = ["blue", "orange", "green", "red"]
        drawmap();

        function drawmap() {

            map[x_old][y_old] = block_old;
            map[x][y] = '人';

            document.getElementById("map").innerHTML = "";
            for (i = 0; i < map.length; i++) {
                var line = "";
                for (j = 0; j < map[i].length; j++) {
                    line += map[i][j];
                }
                document.getElementById("map").innerHTML += line + "<br>";

            }

            for (i = 0; i < word.length; i++) {
                var oBox = document.getElementById("map");
                var oContent = oBox.innerHTML;
                var val = word[i];
                var findText = oContent.split(val);
                oBox.innerHTML = findText.join('<span style="color:' + color[i] + ';">' + val + '</span>');
            }
        }

        function left() {
            if (y > 0 && (map[x][y - 1] == "草" || map[x][y - 1] == "桥")) {
                block_old = block;
                block = map[x][y - 1];
                x_old = x;
                y_old = y;
                y -= 1;
            }
            drawmap();
        }

        function right() {
            if (y < 11 && (map[x][y + 1] == "草" || map[x][y + 1] == "桥")) {
                block_old = block;
                block = map[x][y + 1];
                x_old = x;
                y_old = y;
                y += 1;
            }
            drawmap();
        }

        function up() {
            if (x > 0 && (map[x - 1][y] == "草" || map[x - 1][y] == "桥")) {
                block_old = block;
                block = map[x - 1][y];
                x_old = x;
                y_old = y;
                x -= 1;
            }
            drawmap();
        }

        function down() {
            if (x < 11 && (map[x + 1][y] == "草" || map[x + 1][y] == "桥")) {
                block_old = block;
                block = map[x + 1][y];
                x_old = x;
                y_old = y;
                x += 1;
            }
            drawmap();
        }
    </script>

</body>

</html>